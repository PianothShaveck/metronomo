<!DOCTYPE html><html lang="it"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/x-icon" href="./favicon.png"><title>Metronomo</title><style>:root{--primary-color:#4f46e5;--primary-hover:#4338ca;--bg-gradient-start:#f8fafc;--bg-gradient-end:#e2e8f0;--card-bg:rgba(255, 255, 255, 0.9);--section-bg:rgba(0, 0, 0, 0.03);--text-main:#1e293b;--text-muted:#64748b;--border-color:rgba(0, 0, 0, 0.08);--shadow-lg:0 10px 15px -3px rgba(0, 0, 0, 0.1),0 4px 6px -2px rgba(0, 0, 0, 0.05);--radius:16px;--input-bg:#ffffff;--input-border:#e2e8f0;--flash-opacity:0.3;--slider-track-bg:#cbd5e1;--slider-track-border:#94a3b8;--icon-color:#475569}[data-theme=dark]{--primary-color:#6366f1;--primary-hover:#4f46e5;--bg-gradient-start:#0f172a;--bg-gradient-end:#1e293b;--card-bg:rgba(30, 41, 59, 0.7);--section-bg:rgba(0, 0, 0, 0.2);--text-main:#f8fafc;--text-muted:#94a3b8;--border-color:rgba(255, 255, 255, 0.1);--shadow-lg:0 10px 15px -3px rgba(0, 0, 0, 0.5),0 4px 6px -2px rgba(0, 0, 0, 0.3);--input-bg:rgba(0, 0, 0, 0.3);--input-border:transparent;--flash-opacity:0.15;--slider-track-bg:rgba(255, 255, 255, 0.2);--slider-track-border:rgba(255, 255, 255, 0.05);--icon-color:#f8fafc}body{font-family:Inter,system-ui,-apple-system,sans-serif;margin:0;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--bg-gradient-start),var(--bg-gradient-end));color:var(--text-main);padding:1rem;box-sizing:border-box;overflow-x:hidden}#flash-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fff;opacity:0;pointer-events:none;z-index:1000;transition:opacity .15s ease-out}.flash{opacity:var(--flash-opacity)!important}#animated-svg{width:180px;height:auto;margin-bottom:2rem;filter:drop-shadow(0 0 20px rgba(99, 102, 241, .3));transition:filter .3s ease}#controls{width:100%;max-width:500px;background:var(--card-bg);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid var(--border-color);border-radius:var(--radius);padding:2rem;box-shadow:var(--shadow-lg);display:flex;flex-direction:column;gap:1.5rem}.card{background:var(--card-bg);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:var(--radius);box-shadow:var(--shadow-lg);padding:2rem;width:100%;max-width:600px;display:flex;flex-direction:column;gap:1.5rem}.control-row{display:flex;flex-wrap:wrap;align-items:center;gap:1rem;width:100%;justify-content:flex-start}.control-row label{min-width:fit-content;white-space:nowrap}.control-row input[type=checkbox]+label{flex-grow:0}.section-group{background:var(--section-bg);border-radius:12px;padding:1.5rem;width:100%;box-sizing:border-box;display:flex;flex-direction:column;gap:1rem}.section-title{font-weight:600;color:var(--primary-color);font-size:.85rem;text-transform:uppercase;letter-spacing:.05em;margin-bottom:1rem;display:block;text-align:left}label{font-weight:500;color:var(--text-main);font-size:.95rem}input[type=range]{appearance:none;-webkit-appearance:none;width:100%;height:6px;background:linear-gradient(to right,var(--primary-color) 0,var(--primary-color) 50%,#cbd5e1 50%,#cbd5e1 100%);background-size:200% 100%;background-position:right bottom;border-radius:3px;outline:0;flex-grow:1}[data-theme=dark] input[type=range]{background:linear-gradient(to right,var(--primary-color) 0,var(--primary-color) 50%,rgba(255,255,255,.2) 50%,rgba(255,255,255,.2) 100%);background-size:200% 100%;background-position:right bottom}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:#fff;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.3);transition:all .2s ease;border:3px solid var(--primary-color)}input[type=range]::-webkit-slider-thumb:hover{transform:scale(1.15);box-shadow:0 3px 12px rgba(0,0,0,.4)}input[type=range]::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:#fff;cursor:pointer;border:3px solid var(--primary-color);box-shadow:0 2px 8px rgba(0,0,0,.3);transition:all .2s ease}input[type=range]::-moz-range-thumb:hover{transform:scale(1.15);box-shadow:0 3px 12px rgba(0,0,0,.4)}input[type=range]::-moz-range-track{background:0 0;border:none}input[type=number]{background:var(--input-bg);border:1px solid var(--border-color);border-radius:8px;color:var(--text-main);padding:.5rem;font-family:inherit;font-size:1rem;text-align:center;transition:border-color .2s,background-color .2s}input[type=number]:focus{outline:0;border-color:var(--primary-color);background:var(--input-bg)}button{background:var(--primary-color);color:#fff;border:none;border-radius:10px;padding:.8rem 1.5rem;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;box-shadow:0 4px 6px rgba(0,0,0,.2);flex:1;min-width:140px}button:hover:not(:disabled){background:var(--primary-hover);transform:translateY(-2px);box-shadow:0 6px 12px rgba(99,102,241,.3)}button:active:not(:disabled){transform:translateY(0)}button:disabled{background:#334155;color:#64748b;cursor:not-allowed;transform:none;box-shadow:none}#tap-tempo-btn{background:0 0;border:2px solid var(--primary-color);color:var(--primary-color)}#tap-tempo-btn:hover{background:rgba(99,102,241,.1)}input[type=checkbox]{appearance:none;-webkit-appearance:none;width:1.25rem;height:1.25rem;background:rgba(0,0,0,.3);border:2px solid var(--border-color);border-radius:4px;cursor:pointer;display:grid;place-content:center;transition:all .2s}input[type=checkbox]::before{content:"";width:.75rem;height:.75rem;transform:scale(0);transition:120ms transform ease-in-out;box-shadow:inset 1em 1em #fff;transform-origin:center;clip-path:polygon(14% 44%,0 65%,50% 100%,100% 16%,80% 0%,43% 62%)}input[type=checkbox]:checked{background:var(--primary-color);border-color:var(--primary-color)}input[type=checkbox]:checked::before{transform:scale(1)}@media (max-width:480px){body{padding:.5rem}#controls{padding:1.5rem 1rem}button{width:100%;min-width:auto}.control-row{gap:.75rem}}</style></head><body><button id="theme-toggle" aria-label="Toggle Dark Mode" style="position:absolute;top:1rem;right:1rem;background:0 0;border:none;box-shadow:none;min-width:auto;padding:.5rem;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:1001"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" style="fill:var(--icon-color)"><path d="M480-120q-66 0-113-47t-47-113H200q-33 0-56.5-23.5T120-360q0-140 92-241.5T440-718v-122h80v122q136 15 228 116.5T840-360q0 33-23.5 56.5T760-280H640q0 66-47 113t-113 47ZM200-360h560q0-116-82-198t-198-82q-116 0-198 82t-82 198Zm280 160q33 0 56.5-23.5T560-280H400q0 33 23.5 56.5T480-200Zm0-80Z"/></svg></button><div id="flash-overlay"></div><svg id="animated-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 150" preserveAspectRatio="xMidYMid meet"><defs><linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#536DFE;stop-opacity:1"/><stop offset="100%" style="stop-color:#3D5AFE;stop-opacity:1"/></linearGradient></defs><polygon points="30,95 70,95 50,10" fill="url(#gradient)" stroke="#2C3E50" stroke-width="3"/><g id="swing-bar"><rect x="47" y="15" width="6" height="70" fill="#2C3E50"/></g><animateTransform id="bar-animation" xlink:href="#swing-bar" attributeName="transform" type="rotate" dur="1s" values="0 50 85; -20 50 85; 0 50 85; 20 50 85; 0 50 85" keyTimes="0; 0.25; 0.5; 0.75; 1" repeatCount="indefinite"/></svg><div id="controls"><div class="control-row"><button id="animation-start-btn" data-i18n="start">Avvia metronomo</button> <button id="animation-stop-btn" disabled="disabled" data-i18n="stop">Ferma metronomo</button></div><div class="section-group"><span class="section-title" data-i18n="tempo">Tempo (BPM)</span><div class="control-row"><label for="bpm-slider" data-i18n="speed">Velocità:</label> <input type="range" id="bpm-slider" min="20" max="300" value="120" step="1"> <input type="number" id="slider-value" min="20" max="300" value="120"></div></div><div class="section-group"><span class="section-title" data-i18n="extra_functions">Funzioni Extra</span><div class="control-row"><button id="tap-tempo-btn" data-i18n="tap_tempo">Tap Tempo</button></div><div class="control-row"><input type="checkbox" id="visual-flash"> <label for="visual-flash" data-i18n="visual_flash">Flash Visivo</label></div></div><div class="section-group"><span class="section-title" data-i18n="accent">Accento</span><div class="control-row"><input type="checkbox" id="accent-enabled"> <label for="accent-enabled" data-i18n="enable_accent">Attiva accento</label></div><div class="control-row" id="accent-settings" style="display:none"><label for="accent-interval" data-i18n="every">Ogni</label> <input type="number" id="accent-interval" min="2" max="16" value="4" style="width:60px;padding:.5rem;border:2px solid #e2e8f0;border-radius:6px;text-align:center"> <label for="accent-interval" data-i18n="beats">battiti</label></div></div><div class="section-group"><div class="control-row"><input type="checkbox" id="gradual-increment"> <label for="gradual-increment" data-i18n="gradual_scale">Scalata metronomica</label></div><div id="gradual-inputs" style="display:none"><div class="control-row"><label for="start-bpm" data-i18n="initial_speed">Velocità iniziale</label> <input type="number" id="start-bpm" min="1" max="299" value="60" step="1"></div><div class="control-row"><label for="end-bpm" data-i18n="final_speed">Velocità finale</label> <input type="number" id="end-bpm" min="1" max="300" value="120" step="1"></div><div class="control-row"><label for="increment-value" data-i18n="increment">Incremento</label> <input type="number" id="increment-value" min="1" value="1" step="1"></div><div class="control-row"><label for="increment-clicks" data-i18n="num_beats">Numero di battiti</label> <input type="number" id="increment-clicks" min="1" value="16" step="1"></div><div id="time" style="text-align:center;margin-top:.75rem;color:var(--text-muted);font-size:.9rem" data-i18n-template="time_remaining">Tempo rimanente: ~0 minuti</div></div></div></div><script src="s.js"></script></body></html>